try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1d9b5635-c0e6-4739-a5a4-179b778def11",e._sentryDebugIdIdentifier="sentry-dbid-1d9b5635-c0e6-4739-a5a4-179b778def11")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3121],{3111:(e,t,n)=>{n.d(t,{d:()=>a});let a=e=>{let{pathname:t,searchParams:n,queryString:a,isClaudeApp:r}=e,i="".concat(t,"?").concat(a),o=n.get("origin");if(o)i=o;else if(r){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,n=t.startsWith("/project/")&&e.test(t.slice(9)),r=t.startsWith("/chat/")&&e.test(t.slice(6)),o=n||r||"/new"===t?t:"/new";i="claude://claude.ai".concat(o,"?").concat(a)}return i}},3971:(e,t,n)=>{function a(e){return"text"===e.type&&e.text?{...e,text:e.text.replace("​","")}:e.content?{...e,content:e.content.map(a)}:e}n.d(t,{DV:()=>a,h0:()=>r});let r=e=>{let t="",n=0,a=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("doc"===e.type&&e.content)for(let t of e.content)a(t);else if("paragraph"===e.type){if(e.content)for(let t of e.content)a(t);t+="\n"}else if("text"===e.type){let n=e.text;if(e.marks)for(let t of e.marks)"bold"===t.type?n="**".concat(n,"**"):"italic"===t.type?n="*".concat(n,"*"):"underline"===t.type?n="__".concat(n,"__"):"strike"===t.type?n="~~".concat(n,"~~"):"code"===t.type&&(n="`".concat(n,"`"));t+=n}else if("codeBlock"===e.type){let n=e.attrs&&"string"==typeof e.attrs.language?e.attrs.language:"";if(t+="\n```".concat(n,"\n"),e.content)for(let t of e.content)a(t);t+="\n```\n\n"}else if("bulletList"===e.type&&e.content)for(let t of e.content)a(t);else if("orderedList"===e.type&&e.content)for(let t=0;t<e.content.length;t++)a(e.content[t],t+1,!0);else if("listItem"===e.type&&e.content){let o="   ".repeat(n);for(let s of(i?t+="".concat(o).concat(r,". "):t+="".concat(o,"* "),e.content))n+=1,a(s),n-=1}};return a(e),t.replace("​","").trim()}},12142:(e,t,n)=>{n.d(t,{Q:()=>l});var a=n(74813),r=n(64328),i=n(68067),o=n(28044),s=n(27541),c=n(3111);let l=function(){let{pathname:e,queryString:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,r.YL)(),l=(0,s.usePathname)(),u=(0,s.useSearchParams)(),d=(0,o.V)(),{track:p}=(0,a.st)();(0,i.fS)("claudeai_beam").value;let f="".concat("").concat((0,c.d)({pathname:e||l,searchParams:u,queryString:t,isClaudeApp:d}));return e=>{let{uuid:t,url:a}=e;p({event_key:"claudeai.mcp.auth.init",uuid:t,url:a}),window.location.href="/api/organizations/".concat(null==n?void 0:n.uuid,"/mcp/start-auth/").concat(t,"?redirect_url=").concat(encodeURIComponent(f),"&open_in_browser=1")}}},22167:(e,t,n)=>{n.d(t,{Cg:()=>G,Dd:()=>w,FZ:()=>P,LN:()=>b,X0:()=>O,XE:()=>A,Ys:()=>D,dJ:()=>F,eL:()=>L,fe:()=>Q,ob:()=>M,ph:()=>C,tS:()=>I,vm:()=>N,xc:()=>U,z3:()=>T});var a=n(94295),r=n(1613),i=n(64328),o=n(45054),s=n(16178),c=n(80688),l=n(68067),u=n(2e3),d=n(28044),p=n(66365),f=n(4869),g=n(27541),S=n(7620),y=n(10369),v=n(3111),m=n(12142),h=n(35580),_=n(40459);let I=e=>e.type===u.v8.GITHUB?{sync_source_type:u.v8.GITHUB,sync_source_config:e.config}:e.type===u.v8.GDRIVE?{sync_source_type:u.v8.GDRIVE,sync_source_config:e.config}:null,b=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/sync/settings"),{queryKey:[c._V,{orgUuid:t}],enabled:!!e})},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,a=(0,f.useQueryClient)();return(0,r.Qv)("/api/organizations/".concat(n,"/sync/settings"),"PUT",(e,t)=>{let{type:n,enabled:a}=e;t||(t=[]);let r=t.map(e=>e.type===n?{...e,enabled:a}:e);return r.some(e=>e.type===n)?r:[...t,{type:n,enabled:a}]},{queryKey:[c._V,{orgUuid:n}],enabled:!!t,onSuccess:async function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];await a.invalidateQueries({queryKey:[c._V,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...i))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,a=(0,f.useQueryClient)(),{value:o}=(0,l.fS)("kingfisher_enabled"),{value:s}=(0,l.fS)("apps_use_bananagrams"),u=(0,p.useLayer)("trials_freemium").get("free_integrations",!1);return(0,r.Qv)("/api/organizations/".concat(n,"/sync/settings/config"),"POST",(e,t)=>{let{type:n,config:a}=e;return t||(t=[]),t.map(e=>e.type===n?{...e,config:{...e.config,...a}}:e)},{queryKey:[c._V,{orgUuid:n}],enabled:!!(t&&(o||u)&&s),onSuccess:async function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];await a.invalidateQueries({queryKey:[c._V,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...i))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},P=e=>{let{callerIdentifier:t,successParam:n,handleOpen:a}=e,r=(0,g.useSearchParams)(),i=(0,S.useRef)(!1);(0,S.useEffect)(()=>{!r.has(n)||i.current||t&&t!==r.get(n)||(i.current=!0,((e,t)=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(e);let a=n.toString()?"?".concat(n.toString()):"",r=window.location.pathname+a;window.history.replaceState({...window.history.state,as:r,url:r},"",r)})(n,r),a())},[r,t,a,n])},T=e=>{let t;return t=e.status.state,[u.I5.CREATED,u.I5.PENDING,u.I5.UPDATING].includes(t)},w=e=>[u.I5.FAILED,u.I5.UPDATE_FAILED].includes(e.status.state),L=()=>{let{addError:e}=(0,o.Y)(),t=(0,f.useQueryClient)();return(n,a)=>{(e=>{if(e instanceof s.LG)return e instanceof s.LG&&"access_denied"===e.errorCode})(n)&&(e("Please try again. You may need to reconnect with your ".concat(u.sb[a.sync_source_type]," account."),{error:n}),c.ku.forEach(e=>{t.invalidateQueries({queryKey:[e]})}),t.invalidateQueries({queryKey:[c.GC]}))}},E={[u.v8.GCAL]:"enabled_foccacia",[u.v8.GMAIL]:"enabled_sourdough"},A=e=>{let t=e===u.v8.GCAL||e===u.v8.GMAIL?"pumpernickel_enabled":"cinnabon_enabled",{value:n}=(0,l.fS)(t),a=(0,p.useLayer)("trials_freemium").get("free_integrations",!1),r=n||(e===u.v8.GCAL||e===u.v8.GMAIL)&&a;return!_.env.NEXT_PUBLIC_DISABLE_INTEGRATIONS&&r},k={"https://mcp-server-gcal-586545259222.us-central1.run.app/sse":u.v8.GCAL,"https://mcp-server-gmail-110131437935.us-central1.run.app/sse":u.v8.GMAIL},F=e=>!!(0,h.Uz)({type:"remote"}).find(t=>t.url&&k[t.url]===e),N=()=>{let{value:e}=(0,l.fS)("enabled_brioche");return e},D=e=>{let t=N(),n=(e=>{let t=(0,i.mV)(),{data:n}=b(),a=!!(Array.isArray(n)&&n.find(t=>t.type===e&&t.enabled));return!t||a})(e),a=A(e),r=F(e);return!!(a&&(n||t&&r))},x=e=>"sfdc"===e?"salesforce":e,G=e=>{let t=(0,h.Uz)().find(t=>"remote"===t.type&&t.url&&k[t.url]===e);return t?{isFetched:!0,isAuthenticated:!!t.isConnected}:{isFetched:!1,isAuthenticated:!1}},M=function(e){let{callerIdentifier:t,handleAuthSuccess:n,pathname:a,queryString:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=N(),l=((e,t)=>{let{pathname:n,queryString:a}=t,r=(0,h.Uz)().find(t=>"remote"===t.type&&t.url&&k[t.url]===e),i=D(e),o=G(e),s=(0,m.Q)({pathname:n,queryString:a});return{isAuthenticated:!!i&&!!r&&o.isAuthenticated,startAuth:()=>{i&&r&&s({uuid:r.uuid,url:r.url})},disconnect:()=>{},isFetched:!!r&&o.isFetched}})(e,{pathname:a,queryString:s}),{activeOrganization:p}=(0,i.YL)(),_=null==p?void 0:p.uuid,I=(0,g.usePathname)(),b=(0,g.useSearchParams)(),{addSuccess:U}=(0,o.Y)(),C=(0,y.A)(),T=D(e),w=(0,f.useQueryClient)(),L=(0,d.V)(),{data:E,isFetched:A}=(0,r.Sk)("/api/organizations/".concat(_,"/sync/").concat(x(e),"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:_}],enabled:!!(p&&T)&&!c}),F=(0,S.useRef)(!1),{mutate:M}=(0,r.L2)("/api/organizations/".concat(_,"/sync/").concat(x(e),"/auth/start"),"POST",{enabled:!!(p&&T)&&!c,onSuccess:e=>{window.location.href=e.redirect_url}});P({callerIdentifier:t,successParam:"".concat(e,"_success"),handleOpen:()=>{U(C.formatMessage({defaultMessage:"Successfully connected to {integrationName}",id:"T7cL93l/KQ"},{integrationName:u.sb[e]})),null==n||n(!0)}});let{mutate:O}=(0,r.L2)("/api/organizations/".concat(_,"/sync/").concat(x(e),"/auth"),"DELETE",{enabled:!!(p&&T)&&!c,onSuccess:()=>{w.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:_}]})}});return c&&l.isFetched?l:{isAuthenticated:T&&!!(null==E?void 0:E.is_authenticated),startAuth:()=>{if(!F.current&&T){let n="".concat(e,"_success=").concat(t).concat(s?"&".concat(s):""),r=(0,v.d)({pathname:a||I,searchParams:b,queryString:n,isClaudeApp:L});if(L){window.location.href="/settings/connectors?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(r);return}F.current=!0,M({pre_auth_state:{origin:r},redirect_uri:new URL("/connect/".concat(x(e),"/callback"),window.location.origin).toString()})}},disconnect:O,isFetched:A}},O=(e,t)=>{var n,a;let r=N(),o=D(e),{account:s}=(0,i.YL)(),c=E[e];return!c||r?o:o&&(t?!!(null==t||null==(n=t.conversationSettings)?void 0:n[c]):!!(null==s||null==(a=s.settings)?void 0:a[c]))},Q=()=>{let{account:e}=(0,i.YL)(),{mutate:t}=(0,a.Jy)();return{toggleIntegrationEnabled:(n,a)=>{if(!e)return;let r=E[n];r&&t({...e.settings,[r]:a})}}}},27164:(e,t,n)=>{n.d(t,{LM:()=>y,jI:()=>p,rE:()=>u});var a=n(3971),r=n(18088),i=n(92693),o=n(7620),s=n(4211),c=n(42469),l=n(74196);let u={type:"doc",content:[{type:"paragraph",content:[]}]},d=(e,t)=>"".concat(e?"".concat(e,":"):"").concat(t);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,p=arguments.length>3?arguments[3]:void 0,f=(0,l.X)(),g=(0,s.P)(n,(0,c.k)(e=>({tipTapEditorState:e.tipTapEditorState||u,setTipTapEditorState:e.setTipTapEditorState}))),S=d(p,e),[y,v,m]=(0,r.Vc)("".concat(S,":textInput"),t?{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:t}]}]}:u,!f),h=f?g.tipTapEditorState:y,_=(0,o.useRef)(h),I=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!f&&!I.current){let e=_.current?(0,a.h0)(_.current):"";n.getState().setTipTapEditorState(_.current),n.getState().setPrompt(e,{forceUpdateTiptap:!1}),I.current=!0}},[n,f]);let b=(0,o.useCallback)(e=>{if(f)n.getState().setTipTapEditorState(e);else{let t=(0,a.h0)(e);v(e),n.getState().setPrompt(t,{forceUpdateTiptap:!1})}},[v,n,f]),U=(0,o.useCallback)((e,t)=>{let n=(0,i.P)(e),a={type:"doc",content:[{type:"paragraph",content:n?[{type:"text",text:n}]:[]}]};return n.length>0&&t&&(a.__ant_unsafe=!0),b(a),n},[b]),C=!0===h.__ant_unsafe,P=(0,o.useCallback)(e=>{let t=(0,a.h0)(e);return t.length>0&&C&&(e.__ant_unsafe=!0),b(e),t},[b,C]),T=(0,o.useCallback)(()=>{f?n.getState().setTipTapEditorState(u):m()},[f,n,m]);return{setPrompt:(0,o.useCallback)(function(e){let{forceUpdateTiptap:t=!0,unsafe:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f)n.getState().setPrompt(e,{forceUpdateTiptap:!1});else{let r=U(e,a);n.getState().setPrompt(r,{forceUpdateTiptap:t,unsafe:a})}},[U,n,f]),tipTapEditorState:h,setTipTapEditorJSON:P,setTipTapEditorText:U,setTipTapEditorState:b,isTipTapEditorStateUnsafe:C,clear:T}}let f=[],g=[],S=[];function y(e,t,n){let a=(0,l.X)(),i=(0,s.P)(t,(0,c.k)(e=>({attachments:e.attachments,setAttachments:e.setAttachments,files:e.files,setFiles:e.setFiles,syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids}))),u=d(n,e),[p,y,v]=(0,r.Vc)("".concat(u,":attachment"),f,!a),[m,h,_]=(0,r.Vc)("".concat(u,":files"),g,!a),[I,b,U]=(0,r.Vc)("".concat(u,":syncSourceUuids"),S,!a),C=a?i.attachments:p,P=a?i.setAttachments:y,T=a?i.files:m,w=a?i.setFiles:h,L=a?i.syncSourceUuids:I;return{attachments:C,setAttachments:P,files:T,setFiles:w,syncSourceUuids:L,setSyncSourceUuids:a?i.setSyncSourceUuids:b,clear:(0,o.useCallback)(()=>{a?(i.setAttachments([]),i.setFiles([]),i.setSyncSourceUuids([])):(v(),_(),U())},[a,i,v,_,U])}}},54667:(e,t,n)=>{n.d(t,{E:()=>c});var a=n(50848),r=n(49359),i=n(27164),o=n(43906),s=n.n(o);let c=e=>{let{conversationId:t="default",enableV2:n=!1}=e||{},o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...((e,t)=>({prompt:"",tipTapEditorState:i.rE,setPrompt:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{forceUpdateTiptap:r=!0,unsafe:i=!1}=a;if(e({prompt:n}),!0===r){var o;let e=t().promptInputRef;null==e||null==(o=e.current)||o.setContent(n)}},setTipTapEditorState:t=>{e({tipTapEditorState:t})}}))(...t),...((e,t)=>({attachments:[],files:[],syncSourceUuids:[],transitionFiles:[],setAttachments:n=>{e({attachments:"function"==typeof n?n(t().attachments):n})},setFiles:n=>{e({files:"function"==typeof n?n(t().files):n})},setSyncSourceUuids:n=>{e({syncSourceUuids:"function"==typeof n?n(t().syncSourceUuids):n})},setTransitionFiles:t=>{e({transitionFiles:t})}}))(...t),...(e=>({model:"",projectUuid:void 0,beamChatUuid:void 0,isNewBeamChat:!1,pendingConversationSettings:{},conversation:void 0,setModel:t=>e({model:t}),setProjectUuid:t=>e({projectUuid:t}),setBeamChatUuid:t=>e({beamChatUuid:t}),setIsNewBeamChat:t=>e({isNewBeamChat:t}),setPendingConversationSettings:t=>e(e=>({pendingConversationSettings:{...e.pendingConversationSettings,...t}})),setConversation:t=>e({conversation:t})}))(...t),...(e=>({previewPrompt:void 0,isModelSelectorOpen:!1,hasBlockingWarning:!1,personalizedStyle:void 0,includeProfilePreferences:!0,currentCompassTask:void 0,setPreviewPrompt:t=>e({previewPrompt:t}),setIsModelSelectorOpen:t=>e({isModelSelectorOpen:t}),setHasBlockingWarning:t=>e({hasBlockingWarning:t}),setPersonalizedStyle:t=>e({personalizedStyle:t}),setIncludeProfilePreferences:t=>e({includeProfilePreferences:t}),setCurrentCompassTask:t=>e({currentCompassTask:t})}))(...t),...(e=>({isUploadingFile:!1,isUploadingDriveSync:!1,isUploadingGithubSync:!1,setIsUploadingFile:t=>e({isUploadingFile:t}),setIsUploadingDriveSync:t=>e({isUploadingDriveSync:t}),setIsUploadingGithubSync:t=>e({isUploadingGithubSync:t})}))(...t),...(e=>({isSending:!1,isImprovingPrompt:!1,setIsSending:t=>e({isSending:t}),setIsImprovingPrompt:t=>e({isImprovingPrompt:t})}))(...t),...(()=>({isAtMaxNumUploads:!1,hasAttachments:!1,isChatSyncing:!1,isProjectSyncing:!1,isNewConversation:!1,isProjectLocked:!1,willRedirectOnSubmit:!1}))(...t),...(()=>({sendMessage:void 0,sendTransparentMessage:void 0,stopSampling:void 0,focusInput:void 0,improvePrompt:void 0,validateMaxUploadLimit:void 0,onDrop:void 0,onPasteFiles:void 0,handleUpload:void 0,uploadInputProps:void 0}))(...t),...(e=>({promptInputRef:void 0,setPromptInputRef:t=>e({promptInputRef:t})}))(...t)}};if(n){let e=function(){var e,t,n;let a=null!=(n=null==(e=(t=crypto).randomUUID)?void 0:e.call(t))?n:"v2-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),r=s()((e,t)=>{let n=t.state,r=Date.now();if(void 0!==n.tipTapEditorState){let t={value:n.tipTapEditorState||{},tabId:a,timestamp:r};localStorage.setItem("LSS-".concat(e,":textInput"),JSON.stringify(t))}if(void 0!==n.attachments){let t={value:n.attachments||[],tabId:a,timestamp:r};localStorage.setItem("LSS-".concat(e,":attachment"),JSON.stringify(t))}if(void 0!==n.files){let t={value:n.files||[],tabId:a,timestamp:r};localStorage.setItem("LSS-".concat(e,":files"),JSON.stringify(t))}if(void 0!==n.syncSourceUuids){let t={value:n.syncSourceUuids||[],tabId:a,timestamp:r};localStorage.setItem("LSS-".concat(e,":syncSourceUuids"),JSON.stringify(t))}},500,{maxWait:2e3});return{getItem:e=>{try{let t={},n=localStorage.getItem("LSS-".concat(e,":textInput"));if(n){let e=JSON.parse(n);e.value&&"object"==typeof e.value&&"type"in e.value&&(t.tipTapEditorState=e.value)}let a=localStorage.getItem("LSS-".concat(e,":attachment"));if(a){let e=JSON.parse(a);Array.isArray(e.value)&&(t.attachments=e.value)}let r=localStorage.getItem("LSS-".concat(e,":files"));if(r){let e=JSON.parse(r);Array.isArray(e.value)&&(t.files=e.value)}let i=localStorage.getItem("LSS-".concat(e,":syncSourceUuids"));if(i){let e=JSON.parse(i);Array.isArray(e.value)&&(t.syncSourceUuids=e.value)}if(Object.keys(t).length>0)return{state:t,version:0};return null}catch(e){return null}},setItem:(e,t)=>{r(e,t)},removeItem:e=>{r.cancel(),localStorage.removeItem("LSS-".concat(e,":textInput")),localStorage.removeItem("LSS-".concat(e,":attachment")),localStorage.removeItem("LSS-".concat(e,":files")),localStorage.removeItem("LSS-".concat(e,":syncSourceUuids"))},subscribe:e=>t=>{let n=n=>{if(n.storageArea===localStorage&&n.key&&n.key.startsWith("LSS-".concat(e,":"))&&n.newValue)try{JSON.parse(n.newValue).tabId!==a&&t()}catch(e){t()}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}}}(),n=(0,r.y)()((0,a.eh)((0,a.Zr)(o,{name:t,storage:e,partialize:e=>({tipTapEditorState:e.tipTapEditorState,attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids})})));return e.subscribe?{store:n,unsubscribe:e.subscribe(t)(()=>{})}:{store:n}}return{store:(0,r.y)()((0,a.eh)(o))}}},74196:(e,t,n)=>{n.d(t,{X:()=>r});var a=n(68067);let r=()=>(0,a.fS)("v2_prompt_storage").value},88775:(e,t,n)=>{n.d(t,{Fj:()=>m,Jy:()=>p,Oh:()=>g,QN:()=>I,QT:()=>S,Tc:()=>h,aQ:()=>y,jM:()=>f,jw:()=>v,lE:()=>_});var a=n(3971),r=n(7620),i=n(4211),o=n(42469),s=n(54667),c=n(74196);let l=r.createContext(null),u=null;function d(e,t){let n=r.useContext(l)||(u||({store:u}=(0,s.E)()),u);return(0,i.P)(n,(0,o.k)(e))}function p(e){let t=function(){let e=r.useContext(l);if(!e)throw Error("ChatInputStore not found. Make sure ChatInputProvider wraps your component.");return e}();return(0,i.P)(t,(0,o.k)(e))}let f=l.Provider,g=(e,t)=>{if(!t)return{prompt:e.prompt,tipTapEditorState:e.tipTapEditorState,isPromptUnsafe:!1};let n=e.tipTapEditorState;return{prompt:(0,a.h0)(n),tipTapEditorState:n,isPromptUnsafe:"__ant_unsafe"in n&&!!n.__ant_unsafe}},S=()=>{let e=(0,c.X)();return p(t=>g(t,e))},y=()=>{let e=(0,c.X)();return p(t=>!!g(t,e).prompt.trim()||t.isSending)},v=()=>{let e=r.useContext(l),t=d(e=>e.conversation,"useChatInputConversationOnly");return e?t:void 0},m=()=>d(e=>({pendingConversationSettings:e.pendingConversationSettings,setPendingConversationSettings:e.setPendingConversationSettings}),"useChatInputPendingConversationSettings");function h(e,t){return d(e,t)}let _=()=>d(e=>({syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids,projectUuid:e.projectUuid,conversation:e.conversation}),"useChatInputSync"),I=()=>d(e=>e.projectUuid,"useChatInputProjectUuid")}}]);